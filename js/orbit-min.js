!function(t){var i={defaults:{animation:"horizontal-push",animationSpeed:600,timer:!0,advanceSpeed:4e3,pauseOnHover:!1,startClockOnMouseOut:!1,startClockOnMouseOutAfter:1e3,directionalNav:!0,captions:!0,captionAnimation:"fade",captionAnimationSpeed:600,captionHover:!1,bullets:!1,bulletThumbs:!1,bulletThumbLocation:"",afterSlideChange:t.noop,centerBullets:!0,navOpacity:.2,sideThumbs:!1,preloader:5,thumbWidth:80,respExtra:0,alwaysPlayBtn:!1},activeSlide:0,numberSlides:0,orbitWidth:null,orbitHeight:null,locked:null,timerRunning:null,degrees:0,wrapperHTML:'<div class="satl-wrapper" />',wrapThumbHTML:'<div class="thumbholder" />',timerHTML:'<div class="timer"><span class="mask"><span class="rotator"></span></span><span class="pause"></span></div>',captionHTML:'<div class="orbit-caption"></div>',directionalNavHTML:'<div class="satl-nav"><span class="right">Right</span><span class="left">Left</span></div>',directionalThumbHTML:'<span id="slideleft">Left</span><span id="slideright">Right</span>',bulletHTML:'<ul class="orbit-bullets"></ul>',thumbHTML:'<ul class="orbit-thumbnails"></ul>',init:function(i,s){var e=this;this.clickTimer=t.proxy(this.clickTimer,this),this.addBullet=t.proxy(this.addBullet,this),this.resetAndUnlock=t.proxy(this.resetAndUnlock,this),this.stopClock=t.proxy(this.stopClock,this),this.startTimerAfterMouseLeave=t.proxy(this.startTimerAfterMouseLeave,this),this.clearCaptionAfterMouseLeave=t.proxy(this.clearCaptionAfterMouseLeave,this),this.setCaptionAfterMouseHover=t.proxy(this.setCaptionAfterMouseHover,this),this.clearClockMouseLeaveTimer=t.proxy(this.clearClockMouseLeaveTimer,this),this.rotateTimer=t.proxy(this.rotateTimer,this),this.options=t.extend({},this.defaults,s),"false"===this.options.timer&&(this.options.timer=!1),"false"===this.options.captions&&(this.options.captions=!1),"false"===this.options.directionalNav&&(this.options.directionalNav=!1),this.$element=t(i),this.$wrapper=this.$element.wrap(this.wrapperHTML).parent(),this.$slides=this.$element.children("img, a, div");var n=new Array,a=new Array;if(this.$slides.each(function(){n.push(t(this).find("img").attr("src"))}),0===n.length)e.loaded();else{this.options.bulletThumbs&&this.options.bullets&&this.$slides.each(function(){return a.push(t(this).attr("data-thumb")),20==a.length?!1:void 0});var h=this.options.preloader+a.length;a.push.apply(a,n),e.preload(a,h,!0)}},loaded:function(){this.$element.addClass("orbit").css("background","none"),this.setDimensionsFromLargestSlide(this.options.bullets,this.options.thumbWidth),this.updateOptionsIfOnlyOneSlide(),this.setupFirstSlide(),this.setupClicks(),this.options.timer?(this.setupTimer(),this.startClock()):this.options.alwaysPlayBtn&&(this.setupTimer(),this.stopClock()),this.$wrapper.hover(function(){t(this).toggleClass("hover")}),this.options.captions&&this.setupCaptions(),this.options.directionalNav&&this.setupDirectionalNav(),this.options.bullets&&(this.setupBulletNav(),this.setActiveBullet()),this.options.bulletThumbs&&this.options.bullets&&this.setupDirectionalThumb(this.options.thumbWidth),this.$slides.css("opacity",0)},currentSlide:function(){return this.$slides.eq(this.activeSlide)},setSideThumbSize:function(t,i){var s=this;t||(t=s.$element.width()),i||(i=s.$wrapper.parent().parent().width()),this.extraWidth=i-t,this.extraWidth<this.options.thumbWidth?(s.$wrapper.find(".thumbholder").css("width",this.options.thumbWidth+10),s.$wrapper.find(".thumbholder").css("margin-left",t),this.extraWidth=this.options.thumbWidth):this.extraWidth<s.options.respExtra&&(s.$wrapper.find(".thumbholder").css("width",this.extraWidth+10),s.$wrapper.find(".thumbholder").css("margin-left",t),this.$element.css("margin-left",this.extraWidth),this.setLeftMargin(this.extraWidth)),this.extraWidth=s.options.respExtra},setDimensionsFromLargestSlide:function(){var i=this,s=0,e=0;this.$slides.each(function(){var n=t(this),a=n.width(),h=n.height();a>s&&(i.$element.add(i.$wrapper).width(a),i.$element.add(i.$wrapper).css("max-width",a),i.orbitWidth=i.$element.width(),s=i.orbitWidth),h>e&&(i.$element.add(i.$wrapper).height(h),i.orbitHeight=i.$element.height(),e=i.orbitHeight),i.numberSlides+=1}),this.beResponsive(s,e)},beResponsive:function(t,i){var s=this,e=1;this.extraWidth=s.options.respExtra;var n=s.$wrapper.parent().parent().width(),a=parseInt(s.$wrapper.css("max-width")),h=!1;this.options.sideThumbs&&this.setSideThumbSize(t,n),console.log("be responsive: "+this.extraWidth),(t>=n||a>=n)&&(this.extraWidth=0),t+this.extraWidth>n||a>t&&a>n?(this.options.sideThumbs?h=n-(s.options.thumbWidth+5):this.extraWidth||(h=n),s.$wrapper.parent().hasClass("shrunk")||(s.$wrapper.parent().addClass("shrunk"),s.$wrapper.parent().parent().parent().addClass("shrunk"))):a>=t&&t+this.extraWidth<n&&(h=a,s.$wrapper.parent().hasClass("shrunk")&&(s.$wrapper.parent().removeClass("shrunk"),s.$wrapper.parent().parent().parent().removeClass("shrunk"))),h&&(e=h/t,s.$element.add(s.$wrapper).width(h),s.$element.add(s.$wrapper).height(i*e),s.$wrapper.find(".thumbholder").css("padding-top",i*e+"px"))},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},updateOptionsIfOnlyOneSlide:function(){1===this.$slides.length&&(this.options.directionalNav=!1,this.options.timer=!1,this.options.bullets=!1)},setupFirstSlide:function(){var t=this;this.$slides.first().css({"z-index":3}).fadeIn(function(){t.$slides.css({display:"block"})})},setupClicks:function(){var t=this,i=this.currentSlide();i.click(function(){t.stopClock()})},handleResize:function(i,s){if(this.options=t.extend({},this.defaults,s),this.$element=t(i),this.$wrapper=this.$element.parent(),!this.$element.hasClass("processing")){this.$element.addClass("processing");var e=parseInt(this.$wrapper.css("width")),n=parseInt(this.$wrapper.css("height"));this.beResponsive(e,n),this.$element.removeClass("processing")}},toggleTimer:function(i,s){this.options=t.extend({},this.defaults,s),this.timerRunning=!0,this.$element=t(i),this.$timer=this.$element.parent().find(".timer"),this.$pause=this.$timer.find(".pause"),this.$pause.hasClass("active")&&(this.timerRunning=!1),this.options.focus&&!this.timerRunning?this.$timer.click():this.options.focus||this.$timer.click()},startClock:function(){var t=this;this.$timer.is(":hidden")?this.clock=setInterval(function(){t.shift("next")},this.options.advanceSpeed):(this.timerRunning=!0,this.$pause.removeClass("active"),this.clock=setInterval(this.rotateTimer,this.options.advanceSpeed/180))},rotateTimer:function(){"rotate("+this.degrees+"deg)";this.degrees+=2,this.degrees>180&&this.$mask.addClass("move"),this.degrees>360&&(this.degrees=0,this.shift("next"))},stopClock:function(){this.timerRunning=!1,clearInterval(this.clock),this.$pause&&this.$pause.addClass("active")},setupTimer:function(){this.$timer=t(this.timerHTML),this.$wrapper.append(this.$timer),this.$rotator=this.$timer.find(".rotator"),this.$mask=this.$timer.find(".mask"),this.$pause=this.$timer.find(".pause"),this.$timer.click(this.clickTimer),this.options.startClockOnMouseOut&&(this.$wrapper.mouseleave(this.startTimerAfterMouseLeave),this.$wrapper.mouseenter(this.clearClockMouseLeaveTimer)),this.options.pauseOnHover&&this.$wrapper.mouseenter(this.stopClock)},startTimerAfterMouseLeave:function(){var t=this;this.outTimer=setTimeout(function(){t.timerRunning||t.startClock()},this.options.startClockOnMouseOutAfter)},clearClockMouseLeaveTimer:function(){clearTimeout(this.outTimer)},clickTimer:function(){this.timerRunning?this.stopClock():this.startClock()},setupCaptions:function(){this.$caption=t(this.captionHTML),this.$wrapper.append(this.$caption),this.setCaption(!0)},clearCaptionAfterMouseLeave:function(){jQuery(this.$caption).fadeOut(this.options.captionAnimationSpeed)},setCaptionAfterMouseHover:function(){jQuery(this.$caption).fadeIn(this.options.captionAnimationSpeed)},setCaption:function(i){var s,e=this.currentSlide().attr("data-caption");if(!this.options.captions)return!1;if(e&&i){if(s=t(e).html(),this.$caption.attr("id",e).html(s),captionClass=t(e).attr("class"),this.$caption.attr("class",captionClass),this.options.sideThumbs&&this.setCaptionLeft(),this.options.captionHover&&(this.$wrapper.mouseleave(this.clearCaptionAfterMouseLeave),this.$wrapper.mouseenter(this.setCaptionAfterMouseHover),!this.$wrapper.hasClass("hover")))return;switch(this.options.captionAnimation){case"none":this.$caption.show();break;case"fade":this.$caption.fadeIn(this.options.captionAnimationSpeed);break;case"slideOpen":this.$caption.slideDown(this.options.captionAnimationSpeed)}}else switch(this.options.captionAnimation){case"none":this.$caption.hide().remove();break;case"fade":this.$caption.fadeOut(this.options.captionAnimationSpeed,function(){t(this).remove()});break;case"slideOpen":this.$caption.slideUp(this.options.captionAnimationSpeed,function(){t(this).remove()})}},setupDirectionalNav:function(){var t=this;this.$wrapper.append(this.directionalNavHTML),this.options.captionHover?(this.$wrapper.find(".left").css("display","none"),this.$wrapper.find(".right").css("display","none"),this.$wrapper.hover(function(){t.$wrapper.find(".left").css({opacity:t.options.navOpacity,display:"block"}),t.$wrapper.find(".right").css({opacity:t.options.navOpacity,display:"block"})},function(){t.$wrapper.find(".left").css("display","none"),t.$wrapper.find(".right").css("display","none")})):(this.$wrapper.find(".left").css("opacity",t.options.navOpacity),this.$wrapper.find(".right").css("opacity",t.options.navOpacity)),this.options.sideThumbs&&this.setLeftMargin(t.$wrapper.find(".thumbholder").width()),t.$wrapper.find(".left").hover(function(){jQuery(".satl-nav .left").fadeTo("fast",.75)},function(){jQuery(".satl-nav .left").fadeTo("fast",t.options.navOpacity)}),t.$wrapper.find(".right").hover(function(){jQuery(".satl-nav .right").fadeTo("fast",.75)},function(){jQuery(".satl-nav .right").fadeTo("fast",t.options.navOpacity)}),this.$wrapper.find(".left").click(function(){t.stopClock(),t.shift("prev")}),this.$wrapper.find(".right").click(function(){t.stopClock(),t.shift("next")})},setLeftMargin:function(t){console.log("setting the extrawidth:"+t),this.extraWidth=t?t:this.extraWidth,console.log("setting the extrawidth2:"+this.extraWidth);var i=this;i.$wrapper.find(".left").css("left",this.extraWidth);var s=parseInt(i.$wrapper.find(".left").css("left"))+i.$element.width();i.$wrapper.find(".right").css("left",s-i.$wrapper.find(".right").width()),i.setCaptionLeft(this.extraWidth),i.$wrapper.find(".timer").css("left",s-i.$wrapper.find(".timer").width())},setCaptionLeft:function(){console.log("settings the extrawidth:"+this.extraWidth),this.$wrapper.find(".orbit-caption").css("left",this.extraWidth)},setupDirectionalThumb:function(t){var i=this,s=3*t;this.$wrapper.append(this.directionalThumbHTML),this.$holdermin&&(this.$wrapper.find("#slideleft").hide(),this.$wrapper.find("#slideright").hide()),this.$wrapper.find("#slideleft").click(function(){i.$wrapper.find(".thumbholder").animate({scrollLeft:"-="+s},"slow")}),this.$wrapper.find("#slideright").click(function(){i.$wrapper.find(".thumbholder").animate({scrollLeft:"+="+s},"slow")})},setupBulletNav:function(){if(this.options.bulletThumbs){if(this.$bullets=t(this.thumbHTML),this.options.sideThumbs?this.$bullets.css("min-width",this.options.thumbWidth):(this.$thumbwidth=this.$slides.length*this.options.thumbWidth,this.$bullets.css("width",this.$thumbwidth+40)),this.$wrapper.append(this.$bullets),this.$bullets.wrap(this.wrapThumbHTML),this.$holder=this.$wrapper.find(".thumbholder"),this.$holder.css("padding-top",this.$wrapper.height()+"px"),this.$thumbwidth<this.$holder.width()&&!this.options.sideThumbs&&(this.$bullets.css("margin","0 auto"),this.$holdermin=!0),this.options.sideThumbs){this.setSideThumbSize(null,null);var i=t("html");this.$wrapper.find(".thumbholder").hover(function(){var t=i.scrollTop();i.css("overflow","hidden"),i.css("margin-right",15),i.scrollTop(t)},function(){var t=i.scrollTop();i.css("overflow","auto"),i.css("margin-right",0),i.scrollTop(t)})}}else this.$bullets=t(this.bulletHTML),this.$wrapper.append(this.$bullets);this.$slides.each(this.addBullet),this.options.centerBullets&&0==this.options.bulletThumbs&&($bwidth=this.$bullets.width(),this.$bullets.css("margin-left",-$bwidth/2),this.$bullets.css("margin-right",$bwidth/2))},addBullet:function(i,s){var e,n=t("<li></li>"),a=this;this.options.bulletThumbs&&(e=t(s).attr("data-thumb"),e&&n.append("<img class='orbit-thumb' src='"+this.options.bulletThumbLocation+e+"' />")),this.$bullets.append(n),n.data("index",i),n.click(function(){a.stopClock(),a.shift(n.data("index"))})},setActiveBullet:function(){return this.options.bullets?void this.$bullets.find("li").removeClass("active").eq(this.activeSlide).addClass("active"):!1},resetAndUnlock:function(){this.$slides.eq(this.prevActiveSlide).css({"z-index":1}).animate({opacity:0},this.options.animationSpeed),this.unlock(),this.setupClicks(),this.options.captions&&this.setupCaptions(),this.options.afterSlideChange.call(this,this.$slides.eq(this.prevActiveSlide),this.$slides.eq(this.activeSlide))},preload:function(i,s,e){var n,a,h=this,o=[],r=0;if("undefined"!=typeof i)if(t.isArray(i))for(a=i.length,a>s&&(a=s),n=0;a>n;n++)o[n]=new Image,o[n].onload=function(){r++,r==a&&e&&h.loaded()},o[n].src=i[n];else o[0]=new Image,o[0].src=i,h.loaded()},shift:function(t){var i=t;return this.prevActiveSlide=this.activeSlide,this.prevActiveSlide==i?!1:"1"==this.$slides.length?!1:void(this.locked||(this.lock(),"next"==t?(this.activeSlide++,this.activeSlide==this.numberSlides&&(this.activeSlide=0)):"prev"==t?(this.activeSlide--,this.activeSlide<0&&(this.activeSlide=this.numberSlides-1)):(this.activeSlide=t,this.prevActiveSlide<this.activeSlide?i="next":this.prevActiveSlide>this.activeSlide&&(i="prev")),this.setActiveBullet(),this.$slides.eq(this.prevActiveSlide).css({"z-index":2}),"none"==this.options.animation&&(this.$slides.eq(this.prevActiveSlide).animate({opacity:0},3),this.$slides.eq(this.activeSlide).css({"z-index":3}).animate({opacity:1},3,this.resetAndUnlock)),"fade-empty"==this.options.animation?(this.$slides.eq(this.prevActiveSlide).animate({opacity:0},this.options.animationSpeed),this.$slides.eq(this.activeSlide).css({opacity:0,"z-index":3}).delay("500").animate({opacity:1},this.options.animationSpeed,this.resetAndUnlock)):"fade-blend"==this.options.animation?this.$slides.eq(this.activeSlide).css({opacity:0,"z-index":3}).animate({opacity:1},this.options.animationSpeed,this.resetAndUnlock):"pullout"==this.options.animation?this.$slides.eq(this.activeSlide).transition({opacity:.4,scale:1.6,rotate:"-5deg"}):"horizontal-slide"==this.options.animation?("next"==i&&this.$slides.eq(this.activeSlide).css({opacity:1,left:this.orbitWidth,"z-index":3}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock),"prev"==i&&this.$slides.eq(this.activeSlide).css({opacity:1,left:-this.orbitWidth,"z-index":3}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock)):"vertical-slide"==this.options.animation?("prev"==i&&this.$slides.eq(this.activeSlide).css({top:this.orbitHeight,"z-index":3,opacity:1}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock),"next"==i&&this.$slides.eq(this.activeSlide).css({top:-this.orbitHeight,"z-index":3,opacity:1}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock)):"horizontal-push"==this.options.animation?("next"==i&&(this.$slides.eq(this.activeSlide).css({left:this.orbitWidth,"z-index":3,opacity:1}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({left:2*-this.orbitWidth},this.options.animationSpeed)),"prev"==i&&(this.$slides.eq(this.activeSlide).css({left:4*-this.orbitWidth,"z-index":3,opacity:1}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({left:this.orbitWidth},this.options.animationSpeed))):"vertical-push"==this.options.animation&&("next"==i&&(this.$slides.eq(this.activeSlide).css({top:-this.orbitHeight,"z-index":3,opacity:1}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({top:this.orbitHeight},this.options.animationSpeed)),"prev"==i&&(this.$slides.eq(this.activeSlide).css({top:this.orbitHeight,"z-index":3,opacity:1}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({top:-this.orbitHeight},this.options.animationSpeed))),this.setCaption()))}};t.fn.wait=function(t){return jQuery(this).animate({opacity:"+=0"},t),this},t.fn.satlorbit=function(s){return this.each(function(){var e=t.extend({},i);e.init(this,s)})},t.fn.satlresponse=function(s){return this.each(function(){var e=t.extend({},i);e.handleResize(this,s)})},t.fn.satlfocus=function(s){return this.each(function(){var e=t.extend({},i);e.toggleTimer(this,s)})}}(jQuery);